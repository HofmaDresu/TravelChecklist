{"version":3,"sources":["TravelOptions.js","ChecklistItems.js","App.js","index.js"],"names":["TravelOptions","_this","this","travelOptions","props","questionData","map","qd","options","questionDatum","answerDatum","onUpdateNumber","onUpdateSingle","onUpdateMulti","type","react_default","a","createElement","className","value","onChange","e","title","target","opt","id","key","selectedOptions","text","checked","includes","htmlFor","getTravelOptionsInput","answerData","onUpdateSingleOption","onUpdateMultiOption","Component","itemToChecklistItem","item","isChecked","onCheckedChanged","ChecklistItems","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","checkedItems","handleCheckedChanged","bind","assertThisInitialized","setState","oldState","splice","indexOf","push","assign","_this2","checklistItems","singleOptionItems","filter","flatMap","find","i","multiOptionItems","alwaysItems","nightsGone","replace","Math","max","floor","concat","sort","item1","item2","App","require","forEach","handleUpdateNumber","handleUpdateSingleOption","handleUpdateMultiOption","fieldName","number","defineProperty","selectionKey","selectedItems","TravelOptions_TravelOptions","src_ChecklistItems_0","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.2be9bf68.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nfunction getTravelOptionsInput(questionDatum, answerDatum, onUpdateNumber, onUpdateSingle, onUpdateMulti) {\r\n  switch (questionDatum.type) {\r\n    case \"number\":\r\n      return (\r\n        <input\r\n          className=\"travel-options\"\r\n          type=\"number\"\r\n          value={answerDatum}\r\n          onChange={e => onUpdateNumber(questionDatum.title, e.target.value)}\r\n        />\r\n      );\r\n    case \"single-option\": {\r\n      const options = questionDatum.options.map(opt => (\r\n        <option id={opt.title} key={opt.title}>\r\n          {opt.title}\r\n        </option>\r\n      ));\r\n      return (\r\n        <select className=\"travel-options\" value={answerDatum || \"-- Select an option --\"} onChange={e => onUpdateSingle(questionDatum.title, e.target.selectedOptions[0].text)}>\r\n          <option value=\"-- Select an option --\">-- Select an option --</option>\r\n          {options}\r\n        </select>);\r\n    }\r\n    case \"multi-option\": {\r\n      const options = questionDatum.options.map(opt => (\r\n        <div key={opt.title}>\r\n          <input type=\"checkbox\" id={opt.title} checked={(answerDatum || []).includes(opt.title)} onChange={e => onUpdateMulti(questionDatum.title, opt.title)} />\r\n          <label htmlFor={opt.title}>{opt.title}</label>\r\n        </div>\r\n      ));\r\n      return <span className=\"travel-options\">{options}</span>;\r\n    }\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nexport default class TravelOptions extends Component {\r\n  render() {\r\n    const travelOptions = this.props.questionData.map(qd => {\r\n      const matchingAnswerDatum = this.props.answerData[qd.title];\r\n      const options = getTravelOptionsInput(qd, matchingAnswerDatum, this.props.onUpdateNumber, this.props.onUpdateSingleOption, this.props.onUpdateMultiOption);\r\n\r\n      return (\r\n        <div key={qd.title || qd.type}>\r\n          <h5>{qd.title}</h5>\r\n          {options}\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <div className=\"data-container\">\r\n        <h3>Travel Options</h3>\r\n        {travelOptions}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./ChecklistItems.css\";\r\n\r\nfunction itemToChecklistItem(item, isChecked, onCheckedChanged) {\r\n  return item ? (\r\n    <div key={item}>\r\n      <input type=\"checkbox\" id={item} checked={isChecked} onChange={e => onCheckedChanged(item)} />\r\n      <label htmlFor={item}>{item}</label>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nclass ChecklistItems extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      checkedItems: [],\r\n    };\r\n\r\n    this.handleCheckedChanged = this.handleCheckedChanged.bind(this);\r\n  }\r\n  handleCheckedChanged(item) {\r\n    this.setState((oldState) => {\r\n      const checkedItems = oldState.checkedItems || [];\r\n\r\n      if(checkedItems.includes(item)) {\r\n        checkedItems.splice(checkedItems.indexOf(item), 1)\r\n      } else {\r\n        checkedItems.push(item);\r\n      }\r\n      \r\n      return {\r\n        answerData: Object.assign({}, oldState, { checkedItems })\r\n      };\r\n    });\r\n  }\r\n  render() {\r\n    let checklistItems = [];\r\n\r\n    const singleOptionItems = this.props.questionData\r\n      .filter(qd => qd.type=== \"single-option\")\r\n      .flatMap(qd => (qd.options.find(opt => opt.title === this.props.answerData[qd.title]) || {}).checklistItems)\r\n      .map(i => itemToChecklistItem(i, this.state.checkedItems.includes(i), this.handleCheckedChanged));\r\n\r\n    const multiOptionItems = this.props.questionData\r\n      .filter(qd => qd.type=== \"multi-option\")\r\n      .flatMap(qd => (\r\n        qd.options.filter(opt => (this.props.answerData[qd.title] || []).includes(opt.title)\r\n          ) || {}).flatMap(opt => opt.checklistItems))\r\n      .map(i => itemToChecklistItem(i, this.state.checkedItems.includes(i), this.handleCheckedChanged));\r\n\r\n    const alwaysItems = this.props.questionData\r\n      .find(qd => qd.type === \"always\")\r\n      .checklistItems.map(item => {\r\n        const nightsGone = this.props.answerData[\"How many nights are you gone?\"];\r\n\r\n        if(!nightsGone && (item || []).includes(\"nights\")) return null;\r\n\r\n        item = item\r\n          .replace(\r\n            \"{nights}\",\r\n            Math.max(1, nightsGone)\r\n          )\r\n          .replace(\r\n            \"{reusable-clothes-nights}\",\r\n            Math.floor(nightsGone / 3 + 1)\r\n          );\r\n\r\n        return itemToChecklistItem(item, this.state.checkedItems.includes(item), this.handleCheckedChanged);\r\n      });\r\n\r\n    checklistItems = checklistItems.concat(singleOptionItems).concat(multiOptionItems).concat(alwaysItems).filter(item => item);\r\n    checklistItems.sort((item1, item2) => {\r\n      if (!this.state.checkedItems.includes(item1.key) && this.state.checkedItems.includes(item2.key)) {\r\n        return -1;\r\n      }\r\n      if (this.state.checkedItems.includes(item1.key) && !this.state.checkedItems.includes(item2.key)) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n    return (\r\n      <div className=\"data-container checklist\">\r\n        <h3>Checklist</h3>\r\n        {checklistItems}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChecklistItems;\r\n","import React, { Component } from \"react\";\r\nimport TravelOptions from \"./TravelOptions\";\r\nimport ChecklistItems from \"./ChecklistItems\";\r\nimport \"./App.css\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const questionData = require(\"./data.json\");\r\n\r\n    const state = {\r\n      questionData,\r\n      answerData: {}\r\n    };\r\n\r\n    questionData.forEach(qd => {\r\n      switch(qd.type) {\r\n        case \"number\":\r\n          state.answerData[qd.title] = 0;\r\n          break;\r\n        case \"single-option\":\r\n          state.answerData[qd.title] = '-- Select an option --';\r\n          break;\r\n        case \"multi-option\":\r\n          state.answerData[qd.title] = [];\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.state = state;\r\n\r\n    this.handleUpdateNumber = this.handleUpdateNumber.bind(this);\r\n    this.handleUpdateSingleOption = this.handleUpdateSingleOption.bind(this);\r\n    this.handleUpdateMultiOption = this.handleUpdateMultiOption.bind(this);\r\n  }\r\n  handleUpdateNumber(fieldName, number) {\r\n    this.setState((oldState) => ({\r\n      answerData: Object.assign({}, oldState.answerData, { [fieldName]: Math.max(0, number)})\r\n    }));\r\n  }\r\n  handleUpdateSingleOption(fieldName, selectionKey) {\r\n    this.setState((oldState) => ({\r\n      answerData: Object.assign({}, oldState.answerData, { [fieldName]: selectionKey})\r\n    }));\r\n  }\r\n  handleUpdateMultiOption(fieldName, key) {\r\n    this.setState((oldState) => {\r\n      const selectedItems = oldState.answerData[fieldName] || [];\r\n\r\n      if(selectedItems.includes(key)) {\r\n        selectedItems.splice(selectedItems.indexOf(key), 1)\r\n      } else {\r\n        selectedItems.push(key);\r\n      }\r\n      \r\n      return {\r\n        answerData: Object.assign({}, oldState.answerData, { [fieldName]: selectedItems})\r\n      };\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"app-content\">\r\n          <TravelOptions\r\n            {...this.state}\r\n            onUpdateNumber={this.handleUpdateNumber}\r\n            onUpdateSingleOption={this.handleUpdateSingleOption}\r\n            onUpdateMultiOption={this.handleUpdateMultiOption}\r\n          />\r\n          <ChecklistItems {...this.state} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}